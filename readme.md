### 多级缓存电商 DEMO

#### 解决数据库缓存双写不一致问题

首先在更新数据的时候，一定要首先删除缓存，再去更新数据库，但仍然会出现不一致的问题，比如一个 update 请求过来，删掉了缓存，还没有写入数据库，此时另一个 query 请求，把老的数据又写入了缓存，这个时候读到的数据就是错的。为了解决这个问题，引入了内存队列，让请求在内存中排队。对于请求的处理是异步执行的。在查询请求中，要轮训一段时间，就设置为 200 ms ，如果还读不到缓存中的数据，就从数据库中查，保证数据一致。


持续更新中 ... ...
